<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>storage</title>
<script src="src/storage.js"></script>
</head>

<body>
<h1>storage test</h1>
<p>如何调用？（你可以查看本页面源代码来查看js代码调用示例）</p>
<pre>
<script type="text/javascript">
	var key;
	document.write('<h3>当前页面中所有storage如下：</h3>');
	for(key in storage.storages){
		document.writeln(key+':'+storage.storages[key]);
	}

	var mystorage=storage('myName');
	document.write('<h3>当前页面"myName"下的storage如下：</h3>');
	for(key in mystorage.storages){
		document.writeln(key+':'+mystorage.storages[key]);
	}

	function rand(num){
		return Math.floor(Math.random()*num);
	}
	
	function createCookie(){
		storage.set('test'+rand(100),Math.random());
		storage.set('test'+rand(100),Math.random());
		storage.set('test'+rand(100),Math.random());
		
		mystorage.set('test'+rand(100),Math.random());
		mystorage.set('test'+rand(100),Math.random());
		mystorage.set('test'+rand(100),Math.random());
		
		location.reload();
	}
	
</script>

</pre>
<p>如果页面中没有cookie，可以点此按钮先种下一些随机cookie：<button onclick="createCookie();">生成storage</button></p>
<pre>
生成cookie代码如下：
function createCookie(){
    storage.set('test'+rand(100),Math.random());
    storage.set('test'+rand(100),Math.random());
    storage.set('test'+rand(100),Math.random());
    
    mystorage.set('test'+rand(100),Math.random());
    mystorage.set('test'+rand(100),Math.random());
    mystorage.set('test'+rand(100),Math.random());
}
</pre>
<p>清除页面中所有storage：<button onclick="storage.clear();location.reload();">清除全部storage</button></p>
<p>清除页面中myName下的storage：<button onclick="mystorage.clear();location.reload();">清除mystorage</button></p>
<p>删除页面中myName下某个存储：<input id="thename" placeholder="请输入键值" /><button onclick="if(this.previousSibling.value)mystorage.remove(this.previousSibling.value);location.reload();">删除</button></p>
</body>
</html>
